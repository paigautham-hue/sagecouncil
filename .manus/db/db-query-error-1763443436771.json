{
  "query": "SELECT \n  'Journeys' as tableName,\n  COUNT(*) as totalRecords,\n  SUM(CASE WHEN isPublished = 1 THEN 1 ELSE 0 END) as published,\n  COUNT(DISTINCT id) as uniqueJourneys\nFROM journeys\nUNION ALL\nSELECT 'Journey Days',\n  COUNT(*),\n  SUM(CASE WHEN content IS NOT NULL THEN 1 ELSE 0 END),\n  COUNT(DISTINCT journeyId)\nFROM journey_days\nUNION ALL\nSELECT 'Conversations',\n  COUNT(*),\n  SUM(CASE WHEN mode IS NOT NULL THEN 1 ELSE 0 END),\n  COUNT(DISTINCT userId)\nFROM conversations\nUNION ALL\nSELECT 'Conversation Messages',\n  COUNT(*),\n  SUM(CASE WHEN role = 'assistant' THEN 1 ELSE 0 END),\n  COUNT(DISTINCT conversationId)\nFROM conversation_messages\nUNION ALL\nSELECT 'Embeddings',\n  COUNT(*),\n  SUM(CASE WHEN embedding IS NOT NULL THEN 1 ELSE 0 END),\n  COUNT(DISTINCT contentType)\nFROM embeddings\nUNION ALL\nSELECT 'Users',\n  COUNT(*),\n  SUM(CASE WHEN role = 'admin' THEN 1 ELSE 0 END),\n  COUNT(*)\nFROM users;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4PQbAAV1fA3eoWB.9bb51d851611 --database my7vf9kVVC5tHsnhvudijY --execute SELECT \n  'Journeys' as tableName,\n  COUNT(*) as totalRecords,\n  SUM(CASE WHEN isPublished = 1 THEN 1 ELSE 0 END) as published,\n  COUNT(DISTINCT id) as uniqueJourneys\nFROM journeys\nUNION ALL\nSELECT 'Journey Days',\n  COUNT(*),\n  SUM(CASE WHEN content IS NOT NULL THEN 1 ELSE 0 END),\n  COUNT(DISTINCT journeyId)\nFROM journey_days\nUNION ALL\nSELECT 'Conversations',\n  COUNT(*),\n  SUM(CASE WHEN mode IS NOT NULL THEN 1 ELSE 0 END),\n  COUNT(DISTINCT userId)\nFROM conversations\nUNION ALL\nSELECT 'Conversation Messages',\n  COUNT(*),\n  SUM(CASE WHEN role = 'assistant' THEN 1 ELSE 0 END),\n  COUNT(DISTINCT conversationId)\nFROM conversation_messages\nUNION ALL\nSELECT 'Embeddings',\n  COUNT(*),\n  SUM(CASE WHEN embedding IS NOT NULL THEN 1 ELSE 0 END),\n  COUNT(DISTINCT contentType)\nFROM embeddings\nUNION ALL\nSELECT 'Users',\n  COUNT(*),\n  SUM(CASE WHEN role = 'admin' THEN 1 ELSE 0 END),\n  COUNT(*)\nFROM users;",
  "returncode": 1,
  "logs": [
    "ERROR 1146 (42S02) at line 1: Table 'my7vf9kvvc5thsnhvudijy.journey_days' doesn't exist"
  ]
}